panel.grid.minor = element_blank())
data %>%
dplyr::group_by(country) %>%
arrange(year) %>%
dplyr::mutate(growth = (local_price / lag(local_price)) - 1) %>%
tidyr::drop_na(growth) %>%
dplyr::filter(!(continent %in% c('Oceania','Africa'))) %>%
ggplot(aes(x = growth, y = continent)) +
ggridges::stat_density_ridges(quantile_lines = TRUE, scale = 0.95,
quantiles = c(0.05, 0.5, 0.95), alpha = 0.7) +
# ggridges::geom_density_ridges2(scale = 0.95) +
# facet_wrap(~continent, ncol = 1) +
ggthemes::scale_color_gdocs() +
theme(legend.position = 'None',
panel.grid.minor = element_blank())
data %>%
dplyr::group_by(country) %>%
arrange(year) %>%
dplyr::mutate(growth = (local_price / lag(local_price)) - 1) %>%
tidyr::drop_na(growth) %>%
dplyr::filter(!(continent %in% c('Oceania','Africa'))) %>%
ggplot(aes(x = growth, y = continent)) +
ggridges::stat_density_ridges(quantile_lines = TRUE, scale = 0.95,
quantiles = 0.5, alpha = 0.7) +
# ggridges::geom_density_ridges2(scale = 0.95) +
# facet_wrap(~continent, ncol = 1) +
ggthemes::scale_color_gdocs() +
theme(legend.position = 'None',
panel.grid.minor = element_blank())
data %>%
dplyr::group_by(country) %>%
arrange(year) %>%
dplyr::mutate(growth = (local_price / lag(local_price)) - 1) %>%
tidyr::drop_na(growth) %>%
dplyr::filter(!(continent %in% c('Oceania','Africa'))) %>%
ggplot(aes(x = growth, y = continent)) +
ggridges::stat_density_ridges(quantile_lines = TRUE, scale = 0.95,
quantiles = 0.5, alpha = 0.65) +
# ggridges::geom_density_ridges2(scale = 0.95) +
# facet_wrap(~continent, ncol = 1) +
ggthemes::scale_color_gdocs() +
theme(legend.position = 'None',
panel.grid.minor = element_blank())
data %>%
dplyr::group_by(country) %>%
arrange(year) %>%
dplyr::mutate(growth = (local_price / lag(local_price)) - 1) %>%
tidyr::drop_na(growth) %>%
dplyr::filter(!(continent %in% c('Oceania','Africa'))) %>%
ggplot(aes(x = growth, y = continent)) +
ggridges::stat_density_ridges(quantile_lines = TRUE, scale = 0.99,
quantiles = 0.5, alpha = 0.65) +
# ggridges::geom_density_ridges2(scale = 0.95) +
# facet_wrap(~continent, ncol = 1) +
ggthemes::scale_color_gdocs() +
theme(legend.position = 'None',
panel.grid.minor = element_blank())
data %>%
dplyr::group_by(country) %>%
arrange(year) %>%
dplyr::mutate(growth = (local_price / lag(local_price)) - 1) %>%
tidyr::drop_na(growth) %>%
dplyr::filter(!(continent %in% c('Oceania','Africa'))) %>%
ggplot(aes(x = growth, y = continent)) +
ggridges::stat_density_ridges(quantile_lines = TRUE, scale = 0.99,
quantiles = 0.5, alpha = 0.65) +
# ggridges::geom_density_ridges2(scale = 0.95) +
# facet_wrap(~continent, ncol = 1) +
ggthemes::scale_color_gdocs() +
theme(legend.position = 'None',
panel.grid.minor = element_blank())
data %>%
dplyr::group_by(country) %>%
arrange(year) %>%
dplyr::mutate(growth = (local_price / lag(local_price)) - 1) %>%
tidyr::drop_na(growth) %>%
dplyr::filter(!(continent %in% c('Oceania','Africa'))) %>%
ggplot(aes(x = growth, y = continent)) +
ggridges::stat_density_ridges(quantile_lines = TRUE, scale = 0.99,
quantiles = 0.5, alpha = 0.65) +
# ggridges::geom_density_ridges2(scale = 0.95) +
# facet_wrap(~continent, ncol = 1) +
ggthemes::scale_color_gdocs() +
theme(legend.position = 'None',
panel.grid.minor = element_blank())+
xlim(NA, 1)
ggsave('price_growth_distribution.png', width = 16, height = 9, units = 'in', dpi = 500, scale = 0.6)
data %>%
dplyr::group_by(country) %>%
arrange(year) %>%
dplyr::mutate(growth = (local_price / lag(local_price)) - 1) %>%
tidyr::drop_na(growth) %>%
dplyr::filter(!(continent %in% c('Oceania','Africa'))) %>%
ggplot(aes(x = growth, y = continent)) +
ggridges::stat_density_ridges(quantile_lines = TRUE, scale = 0.99,
quantiles = 0.5, alpha = 0.65) +
# ggridges::geom_density_ridges2(scale = 0.95) +
# facet_wrap(~continent, ncol = 1) +
scale_x_continuous(breaks = seq(0, 0.9, 0.15),
limits = c(NA, 1))
?scale_x_continuous
data %>%
dplyr::group_by(country) %>%
arrange(year) %>%
dplyr::mutate(growth = (local_price / lag(local_price)) - 1) %>%
tidyr::drop_na(growth) %>%
dplyr::filter(!(continent %in% c('Oceania','Africa'))) %>%
ggplot(aes(x = growth, y = continent)) +
ggridges::stat_density_ridges(quantile_lines = TRUE, scale = 0.99,
quantiles = 0.5, alpha = 0.65) +
# ggridges::geom_density_ridges2(scale = 0.95) +
# facet_wrap(~continent, ncol = 1) +
scale_x_continuous(breaks = seq(0, 0.9, 0.15),
limits = c(NA, 1),
labels = scales::percent) +
ggthemes::scale_color_gdocs() +
theme(legend.position = 'None',
panel.grid.minor = element_blank())
data %>%
dplyr::group_by(country) %>%
arrange(year) %>%
dplyr::mutate(growth = (local_price / lag(local_price)) - 1) %>%
tidyr::drop_na(growth) %>%
dplyr::filter(!(continent %in% c('Oceania','Africa'))) %>%
ggplot(aes(x = growth, y = continent)) +
ggridges::stat_density_ridges(quantile_lines = TRUE, scale = 0.99,
quantiles = 0.5, alpha = 0.65) +
# ggridges::geom_density_ridges2(scale = 0.95) +
# facet_wrap(~continent, ncol = 1) +
scale_x_continuous(breaks = seq(0, 0.8, 0.1),
limits = c(NA, 1),
labels = scales::percent) +
ggthemes::scale_color_gdocs() +
theme(legend.position = 'None',
panel.grid.minor = element_blank())
data %>%
dplyr::group_by(country) %>%
arrange(year) %>%
dplyr::mutate(growth = (local_price / lag(local_price)) - 1) %>%
tidyr::drop_na(growth) %>%
dplyr::filter(!(continent %in% c('Oceania','Africa'))) %>%
ggplot(aes(x = growth, y = continent)) +
ggridges::stat_density_ridges(quantile_lines = TRUE, scale = 0.99,
quantiles = 0.5, alpha = 0.65) +
# ggridges::geom_density_ridges2(scale = 0.95) +
# facet_wrap(~continent, ncol = 1) +
scale_x_continuous(breaks = seq(0, 0.8, 0.1),
limits = c(NA, 0.8),
labels = scales::percent) +
ggthemes::scale_color_gdocs() +
theme(legend.position = 'None',
panel.grid.minor = element_blank())
ggsave('price_growth_distribution.png', width = 16, height = 9, units = 'in', dpi = 500, scale = 0.6)
data %>%
dplyr::group_by(country) %>%
arrange(year) %>%
dplyr::mutate(growth = (local_price / lag(local_price)) - 1) %>%
tidyr::drop_na(growth) %>%
# dplyr::filter(!(continent %in% c('Oceania','Africa'))) %>%
ggplot(aes(x = year, y = continent)) +
ggridges::stat_density_ridges(quantile_lines = TRUE, scale = 0.99,
quantiles = 0.5, alpha = 0.65) +
# ggridges::geom_density_ridges2(scale = 0.95) +
# facet_wrap(~continent, ncol = 1) +
scale_x_continuous(breaks = seq(0, 0.8, 0.1),
limits = c(NA, 0.8),
labels = scales::percent) +
ggthemes::scale_color_gdocs() +
theme(legend.position = 'None',
panel.grid.minor = element_blank())
data %>%
dplyr::group_by(country) %>%
arrange(year) %>%
dplyr::mutate(growth = (local_price / lag(local_price)) - 1) %>%
tidyr::drop_na(growth) %>%
# dplyr::filter(!(continent %in% c('Oceania','Africa'))) %>%
ggplot(aes(x = growth, y = year)) +
ggridges::stat_density_ridges(quantile_lines = TRUE, scale = 0.99,
quantiles = 0.5, alpha = 0.65) +
# ggridges::geom_density_ridges2(scale = 0.95) +
# facet_wrap(~continent, ncol = 1) +
scale_x_continuous(breaks = seq(0, 0.8, 0.1),
limits = c(NA, 0.8),
labels = scales::percent) +
ggthemes::scale_color_gdocs() +
theme(legend.position = 'None',
panel.grid.minor = element_blank())
data %>%
dplyr::group_by(country) %>%
arrange(year) %>%
dplyr::mutate(growth = (local_price / lag(local_price)) - 1) %>%
tidyr::drop_na(growth) %>%
# dplyr::filter(!(continent %in% c('Oceania','Africa'))) %>%
ggplot(aes(x = growth, y = year, group = year)) +
ggridges::stat_density_ridges(quantile_lines = TRUE, scale = 0.99,
quantiles = 0.5, alpha = 0.65) +
# ggridges::geom_density_ridges2(scale = 0.95) +
# facet_wrap(~continent, ncol = 1) +
scale_x_continuous(breaks = seq(0, 0.8, 0.1),
limits = c(NA, 0.8),
labels = scales::percent) +
ggthemes::scale_color_gdocs() +
theme(legend.position = 'None',
panel.grid.minor = element_blank())
gc()
data %>%
dplyr::group_by(country) %>%
arrange(year) %>%
dplyr::mutate(growth = (local_price / lag(local_price)) - 1) %>%
tidyr::drop_na(growth) %>%
# dplyr::filter(!(continent %in% c('Oceania','Africa'))) %>%
ggplot(aes(x = growth, y = year, group = year)) +
ggridges::stat_density_ridges(quantile_lines = TRUE, scale = 0.99,
quantiles = 0.5, alpha = 0.65,
rel_min_height = 0.01) +
# ggridges::geom_density_ridges2(scale = 0.95) +
# facet_wrap(~continent, ncol = 1) +
scale_x_continuous(breaks = seq(0, 0.8, 0.1),
limits = c(NA, 0.8),
labels = scales::percent) +
ggthemes::scale_color_gdocs() +
theme(legend.position = 'None',
panel.grid.minor = element_blank())
gc()
data %>%
dplyr::group_by(country) %>%
arrange(year) %>%
dplyr::mutate(growth = (local_price / lag(local_price)) - 1) %>%
tidyr::drop_na(growth) %>%
# dplyr::filter(!(continent %in% c('Oceania','Africa'))) %>%
ggplot(aes(x = growth, y = year, group = year)) +
ggridges::stat_density_ridges(quantile_lines = TRUE, scale = 0.99,
quantiles = 0.5, alpha = 0.65,
rel_min_height = 0.01) +
# ggridges::geom_density_ridges2(scale = 0.95) +
# facet_wrap(~continent, ncol = 1) +
scale_x_continuous(labels = scales::percent) +
ggthemes::scale_color_gdocs() +
theme(legend.position = 'None',
panel.grid.minor = element_blank())
data %>%
dplyr::group_by(country) %>%
arrange(year) %>%
dplyr::mutate(growth = (local_price / lag(local_price)) - 1) %>%
tidyr::drop_na(growth) %>%
# dplyr::filter(!(continent %in% c('Oceania','Africa'))) %>%
ggplot(aes(x = growth, y = year, group = year)) +
ggridges::stat_density_ridges(quantile_lines = TRUE, scale = 0.99,
quantiles = 0.5, alpha = 0.65) +
# ggridges::geom_density_ridges2(scale = 0.95) +
# facet_wrap(~continent, ncol = 1) +
scale_x_continuous(labels = scales::percent) +
ggthemes::scale_color_gdocs() +
theme(legend.position = 'None',
panel.grid.minor = element_blank())
data %>%
dplyr::group_by(country) %>%
arrange(year) %>%
dplyr::mutate(growth = (local_price / lag(local_price)) - 1) %>%
tidyr::drop_na(growth) %>%
# dplyr::filter(!(continent %in% c('Oceania','Africa'))) %>%
ggplot(aes(x = growth, y = year, group = year)) +
ggridges::stat_density_ridges(quantile_lines = TRUE, scale = 0.99,
quantiles = 0.5, alpha = 0.65) +
# ggridges::geom_density_ridges2(scale = 0.95) +
# facet_wrap(~continent, ncol = 1) +
scale_x_continuous(limits = c(NA, 1),
labels = scales::percent) +
ggthemes::scale_color_gdocs() +
theme(legend.position = 'None',
panel.grid.minor = element_blank())
data %>%
dplyr::group_by(country) %>%
arrange(year) %>%
dplyr::mutate(growth = (local_price / lag(local_price)) - 1) %>%
tidyr::drop_na(growth) %>%
# dplyr::filter(!(continent %in% c('Oceania','Africa'))) %>%
ggplot(aes(x = growth, y = year, group = year)) +
ggridges::stat_density_ridges(quantile_lines = TRUE, scale = 0.99,
quantiles = 0.5, alpha = 0.65) +
# ggridges::geom_density_ridges2(scale = 0.95) +
# facet_wrap(~continent, ncol = 1) +
scale_x_continuous(limits = c(NA, 0.85),
labels = scales::percent) +
ggthemes::scale_color_gdocs() +
theme(legend.position = 'None',
panel.grid.minor = element_blank())
data %>%
dplyr::group_by(country) %>%
arrange(year) %>%
dplyr::mutate(growth = (local_price / lag(local_price)) - 1) %>%
tidyr::drop_na(growth) %>%
# dplyr::filter(!(continent %in% c('Oceania','Africa'))) %>%
ggplot(aes(x = growth, y = year, group = year)) +
ggridges::stat_density_ridges(quantile_lines = TRUE, scale = 0.99,
quantiles = 0.5, alpha = 0.65) +
# ggridges::geom_density_ridges2(scale = 0.95) +
# facet_wrap(~continent, ncol = 1) +
scale_x_continuous(limits = c(-.05, 0.85),
labels = scales::percent) +
ggthemes::scale_color_gdocs() +
theme(legend.position = 'None',
panel.grid.minor = element_blank())
data %>%
dplyr::group_by(country) %>%
arrange(year) %>%
dplyr::mutate(growth = (local_price / lag(local_price)) - 1) %>%
tidyr::drop_na(growth) %>%
# dplyr::filter(!(continent %in% c('Oceania','Africa'))) %>%
ggplot(aes(x = growth, y = year, group = year)) +
ggridges::stat_density_ridges(quantile_lines = TRUE, scale = 0.99,
quantiles = 0.5, alpha = 0.65) +
# ggridges::geom_density_ridges2(scale = 0.95) +
# facet_wrap(~continent, ncol = 1) +
scale_x_continuous(limits = c(-.05, 0.5),
labels = scales::percent) +
ggthemes::scale_color_gdocs() +
theme(legend.position = 'None',
panel.grid.minor = element_blank())
GC()
gc()
data %>%
dplyr::group_by(country) %>%
arrange(year) %>%
dplyr::mutate(growth = (local_price / lag(local_price)) - 1) %>%
tidyr::drop_na(growth) %>%
# dplyr::filter(!(continent %in% c('Oceania','Africa'))) %>%
ggplot(aes(x = growth, y = year, group = year)) +
ggridges::stat_density_ridges(quantile_lines = TRUE, scale = 0.99,
quantiles = 0.5, alpha = 0.65) +
# ggridges::geom_density_ridges2(scale = 0.95) +
# facet_wrap(~continent, ncol = 1) +
scale_x_continuous(limits = c(-.05, 0.3),
labels = scales::percent) +
ggthemes::scale_color_gdocs() +
theme(legend.position = 'None',
panel.grid.minor = element_blank())
data %>%
dplyr::group_by(country) %>%
arrange(year) %>%
dplyr::mutate(growth = (local_price / lag(local_price)) - 1) %>%
tidyr::drop_na(growth) %>%
# dplyr::filter(!(continent %in% c('Oceania','Africa'))) %>%
ggplot(aes(x = growth, y = year, group = year)) +
ggridges::stat_density_ridges(quantile_lines = TRUE, scale = 0.99,
quantiles = 0.5, alpha = 0.65,
rel_min_height = 0.01) +
# ggridges::geom_density_ridges2(scale = 0.95) +
# facet_wrap(~continent, ncol = 1) +
scale_x_continuous(limits = c(-.05, 0.3),
labels = scales::percent) +
ggthemes::scale_color_gdocs() +
theme(legend.position = 'None',
panel.grid.minor = element_blank())
data %>%
dplyr::group_by(country) %>%
arrange(year) %>%
dplyr::mutate(growth = (local_price / lag(local_price)) - 1) %>%
tidyr::drop_na(growth) %>%
# dplyr::filter(!(continent %in% c('Oceania','Africa'))) %>%
ggplot(aes(x = growth, y = year, group = year)) +
ggridges::stat_density_ridges(quantile_lines = TRUE, scale = 0.99,
quantiles = 0.5, alpha = 0.65,
rel_min_height = 0.03) +
# ggridges::geom_density_ridges2(scale = 0.95) +
# facet_wrap(~continent, ncol = 1) +
scale_x_continuous(limits = c(-.05, 0.3),
labels = scales::percent) +
ggthemes::scale_color_gdocs() +
theme(legend.position = 'None',
panel.grid.minor = element_blank())
data %>%
dplyr::group_by(country) %>%
arrange(year) %>%
dplyr::mutate(growth = (local_price / lag(local_price)) - 1) %>%
tidyr::drop_na(growth) %>%
# dplyr::filter(!(continent %in% c('Oceania','Africa'))) %>%
ggplot(aes(x = growth, y = year, group = year)) +
ggridges::stat_density_ridges(quantile_lines = TRUE, scale = 0.99,
quantiles = 0.5, alpha = 0.65,
rel_min_height = 0.05) +
# ggridges::geom_density_ridges2(scale = 0.95) +
# facet_wrap(~continent, ncol = 1) +
scale_x_continuous(limits = c(-.05, 0.3),
labels = scales::percent) +
ggthemes::scale_color_gdocs() +
theme(legend.position = 'None',
panel.grid.minor = element_blank())
data %>%
dplyr::group_by(country) %>%
arrange(year) %>%
dplyr::mutate(growth = (local_price / lag(local_price)) - 1) %>%
tidyr::drop_na(growth) %>%
# dplyr::filter(!(continent %in% c('Oceania','Africa'))) %>%
ggplot(aes(x = growth, y = year, group = year)) +
ggridges::stat_density_ridges(quantile_lines = TRUE, scale = 1.2,
quantiles = 0.5, alpha = 0.65,
rel_min_height = 0.05) +
# ggridges::geom_density_ridges2(scale = 0.95) +
# facet_wrap(~continent, ncol = 1) +
scale_x_continuous(limits = c(-.05, 0.3),
labels = scales::percent) +
ggthemes::scale_color_gdocs() +
theme(legend.position = 'None',
panel.grid.minor = element_blank())
data %>%
dplyr::group_by(country) %>%
arrange(year) %>%
dplyr::mutate(growth = (local_price / lag(local_price)) - 1) %>%
tidyr::drop_na(growth) %>%
# dplyr::filter(!(continent %in% c('Oceania','Africa'))) %>%
ggplot(aes(x = growth, y = year, group = year)) +
ggridges::stat_density_ridges(quantile_lines = TRUE, scale = 1.5,
quantiles = 0.5, alpha = 0.65,
rel_min_height = 0.05) +
# ggridges::geom_density_ridges2(scale = 0.95) +
# facet_wrap(~continent, ncol = 1) +
scale_x_continuous(limits = c(-.05, 0.3),
labels = scales::percent) +
ggthemes::scale_color_gdocs() +
theme(legend.position = 'None',
panel.grid.minor = element_blank())
data %>%
dplyr::group_by(country) %>%
arrange(year) %>%
dplyr::mutate(growth = (local_price / lag(local_price)) - 1) %>%
tidyr::drop_na(growth) %>%
# dplyr::filter(!(continent %in% c('Oceania','Africa'))) %>%
ggplot(aes(x = growth, y = year, group = year)) +
ggridges::stat_density_ridges(quantile_lines = TRUE, scale = 1.5,
quantiles = 0.5, alpha = 0.5,
rel_min_height = 0.05) +
# ggridges::geom_density_ridges2(scale = 0.95) +
# facet_wrap(~continent, ncol = 1) +
scale_x_continuous(limits = c(-.05, 0.3),
labels = scales::percent) +
ggthemes::scale_color_gdocs() +
theme(legend.position = 'None',
panel.grid.minor = element_blank())
data %>%
dplyr::group_by(country) %>%
arrange(year) %>%
dplyr::mutate(growth = (local_price / lag(local_price)) - 1) %>%
tidyr::drop_na(growth) %>%
# dplyr::filter(!(continent %in% c('Oceania','Africa'))) %>%
ggplot(aes(x = growth, y = year, group = year)) +
ggridges::stat_density_ridges(quantile_lines = TRUE, scale = 1.5,
quantiles = 0.5, alpha = 0.5,
rel_min_height = 0.05) +
# ggridges::geom_density_ridges2(scale = 0.95) +
# facet_wrap(~continent, ncol = 1) +
scale_x_continuous(limits = c(-.05, 0.3),
labels = scales::percent) +
scale_y_continuous(breaks = seq(2000, 2020, 4)) +
ggthemes::scale_color_gdocs() +
theme(legend.position = 'None',
panel.grid.minor = element_blank())
data %>%
dplyr::group_by(country) %>%
arrange(year) %>%
dplyr::mutate(growth = (local_price / lag(local_price)) - 1) %>%
tidyr::drop_na(growth) %>%
# dplyr::filter(!(continent %in% c('Oceania','Africa'))) %>%
ggplot(aes(x = growth, y = year, group = year)) +
ggridges::stat_density_ridges(quantile_lines = TRUE, scale = 1.75,
quantiles = 0.5, alpha = 0.5,
rel_min_height = 0.05) +
# ggridges::geom_density_ridges2(scale = 0.95) +
# facet_wrap(~continent, ncol = 1) +
scale_x_continuous(limits = c(-.05, 0.3),
labels = scales::percent) +
scale_y_continuous(breaks = seq(2000, 2020, 4)) +
ggthemes::scale_color_gdocs() +
theme(legend.position = 'None',
panel.grid.minor = element_blank())
data %>%
dplyr::group_by(country) %>%
arrange(year) %>%
dplyr::mutate(growth = (local_price / lag(local_price)) - 1) %>%
tidyr::drop_na(growth) %>%
# dplyr::filter(!(continent %in% c('Oceania','Africa'))) %>%
ggplot(aes(x = growth, y = year, group = year)) +
ggridges::stat_density_ridges(quantile_lines = TRUE, scale = 1.5,
quantiles = 0.5, alpha = 0.5,
rel_min_height = 0.05) +
# ggridges::geom_density_ridges2(scale = 0.95) +
# facet_wrap(~continent, ncol = 1) +
scale_x_continuous(limits = c(-.05, 0.3),
labels = scales::percent) +
scale_y_continuous(breaks = seq(2000, 2020, 4)) +
ggthemes::scale_color_gdocs() +
theme(legend.position = 'None',
panel.grid.minor = element_blank())
data %>%
dplyr::group_by(country) %>%
arrange(year) %>%
dplyr::mutate(growth = (local_price / lag(local_price)) - 1) %>%
tidyr::drop_na(growth) %>%
# dplyr::filter(!(continent %in% c('Oceania','Africa'))) %>%
ggplot(aes(x = growth, y = year, group = year)) +
ggridges::stat_density_ridges(quantile_lines = TRUE, scale = 1.5,
quantiles = 0.5, alpha = 0.5,
rel_min_height = 0.05) +
# ggridges::geom_density_ridges2(scale = 0.95) +
# facet_wrap(~continent, ncol = 1) +
scale_x_continuous(limits = c(-.05, 0.3),
labels = scales::percent) +
scale_y_continuous(breaks = seq(2000, 2020, 4)) +
ggthemes::scale_color_gdocs() +
theme(legend.position = 'None',
panel.grid.minor = element_blank())
ggsave('price_growth_distribution.png', width = 16, height = 9, units = 'in', dpi = 500, scale = 0.6)
