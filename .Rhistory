theme(base_size = 10,
panel.grid.major.y = element_blank(),
panel.grid.minor.y = element_blank(),
panel.grid.minor.x = element_blank()) +
guides(fill = guide_legend(title="Number of\nSurveys")) +
labs(x = '', y = '')
theme_set(theme_minimal(base_family = 'Raleway', base_size = 10))
ggplot(survey_num, aes(x = year, y = country, fill = factor(number))) +
geom_tile( col = 'white', size = 0.5) +
scale_x_continuous(breaks = seq(2000, 2020, 4),
labels = seq(2000, 2020, 4)) +
# scale_y_discrete(breaks = missing_country$country,
#                  labels = missing_country$country,
#                  expand=c(0,0)) +
scale_fill_manual(values=c("#d53e4f","#fdae61","#abdda4")) +
theme(panel.grid.major.y = element_blank(),
panel.grid.minor.y = element_blank(),
panel.grid.minor.x = element_blank()) +
guides(fill = guide_legend(title="Number of\nSurveys")) +
labs(x = '', y = '')
gc()
ggplot(survey_num, aes(x = year, y = country, fill = factor(number))) +
geom_tile( col = 'white', size = 0.5) +
scale_x_continuous(breaks = seq(2000, 2020, 4),
labels = seq(2000, 2020, 4)) +
# scale_y_discrete(breaks = missing_country$country,
#                  labels = missing_country$country,
#                  expand=c(0,0)) +
scale_fill_manual(values=c("#d53e4f","#fdae61","#abdda4")) +
theme(panel.grid.major.y = element_blank(),
panel.grid.minor.y = element_blank(),
panel.grid.minor.x = element_blank(),
plot.margin=margin(0.7,0.4,0.1,0.2,"cm")) +
guides(fill = guide_legend(title="Number of\nSurveys")) +
labs(x = '', y = '')
ggplot(survey_num, aes(x = year, y = country, fill = factor(number))) +
geom_tile( col = 'white', size = 0.5) +
scale_x_continuous(breaks = seq(2000, 2020, 4),
labels = seq(2000, 2020, 4)) +
# scale_y_discrete(breaks = missing_country$country,
#                  labels = missing_country$country,
#                  expand=c(0,0)) +
scale_fill_manual(values=c("#d53e4f","#fdae61","#abdda4")) +
theme(panel.grid.major.y = element_blank(),
panel.grid.minor.y = element_blank(),
panel.grid.minor.x = element_blank(),
plot.margin=margin(0.7,0.4,0.1,0.2,"cm")) +
guides(fill = guide_legend(title="Number of\nSurveys")) +
labs(x = '', y = '', title = 'The Number of Big Mac Index Surverys')
ggplot(survey_num, aes(x = year, y = country, fill = factor(number))) +
geom_tile( col = 'white', size = 0.5) +
scale_x_continuous(breaks = seq(2000, 2020, 4),
labels = seq(2000, 2020, 4)) +
# scale_y_discrete(breaks = missing_country$country,
#                  labels = missing_country$country,
#                  expand=c(0,0)) +
scale_fill_manual(values=c("#d53e4f","#fdae61","#abdda4")) +
theme(panel.grid.major.y = element_blank(),
panel.grid.minor.y = element_blank(),
panel.grid.minor.x = element_blank(),
axis.text.y=element_text(vjust=0.2)) +
guides(fill = guide_legend(title="Number of\nSurveys")) +
labs(x = '', y = '', title = 'The Number of Big Mac Index Surverys')
ggplot(survey_num, aes(x = year, y = country, fill = factor(number))) +
geom_tile( col = 'white', size = 0.5) +
scale_x_continuous(breaks = seq(2000, 2020, 4),
labels = seq(2000, 2020, 4)) +
# scale_y_discrete(breaks = missing_country$country,
#                  labels = missing_country$country,
#                  expand=c(0,0)) +
scale_fill_manual(values=c("#d53e4f","#fdae61","#abdda4")) +
theme(panel.grid.major.y = element_blank(),
panel.grid.minor.y = element_blank(),
panel.grid.minor.x = element_blank(),
axis.text.y=element_text(vjust=0.2),
axis.ticks=element_line(size=0.4)) +
guides(fill = guide_legend(title="Number of\nSurveys")) +
labs(x = '', y = '', title = 'The Number of Big Mac Index Surverys')
ggplot(survey_num, aes(x = year, y = country, fill = factor(number))) +
geom_tile( col = 'white', size = 0.5) +
scale_x_continuous(breaks = seq(2000, 2020, 4),
labels = seq(2000, 2020, 4)) +
# scale_y_discrete(breaks = missing_country$country,
#                  labels = missing_country$country,
#                  expand=c(0,0)) +
scale_fill_manual(values=c("#d53e4f","#fdae61","#abdda4")) +
theme(panel.grid.major.y = element_blank(),
panel.grid.minor.y = element_blank(),
panel.grid.minor.x = element_blank(),
axis.text.y=element_text(vjust=0.2),
axis.ticks=element_line(size=0.15)) +
guides(fill = guide_legend(title="Number of\nSurveys")) +
labs(x = '', y = '', title = 'The Number of Big Mac Index Surverys')
ggplot(survey_num, aes(x = year, y = country, fill = factor(number))) +
geom_tile( col = 'white', size = 0.5, alpha = 0.75) +
scale_x_continuous(breaks = seq(2000, 2020, 4),
labels = seq(2000, 2020, 4)) +
# scale_y_discrete(breaks = missing_country$country,
#                  labels = missing_country$country,
#                  expand=c(0,0)) +
scale_fill_manual(values=c("#d53e4f","#fdae61","#abdda4")) +
theme(panel.grid.major.y = element_blank(),
panel.grid.minor.y = element_blank(),
panel.grid.minor.x = element_blank(),
axis.text.y=element_text(vjust=0.2),
axis.ticks=element_line(size=0.15)) +
guides(fill = guide_legend(title="Number of\nSurveys")) +
labs(x = '', y = '', title = 'The Number of Big Mac Index Surverys')
ggplot(survey_num, aes(x = year, y = country, fill = factor(number))) +
geom_tile( col = 'white', size = 0.5, alpha = 0.85) +
scale_x_continuous(breaks = seq(2000, 2020, 4),
labels = seq(2000, 2020, 4)) +
# scale_y_discrete(breaks = missing_country$country,
#                  labels = missing_country$country,
#                  expand=c(0,0)) +
scale_fill_manual(values=c("#d53e4f","#fdae61","#abdda4")) +
theme(panel.grid.major.y = element_blank(),
panel.grid.minor.y = element_blank(),
panel.grid.minor.x = element_blank(),
axis.text.y=element_text(vjust=0.2),
axis.ticks=element_line(size=0.15)) +
guides(fill = guide_legend(title="Number of\nSurveys")) +
labs(x = '', y = '', title = 'The Number of Big Mac Index Surverys')
country = data %>%
dplyr::group_by(name) %>%
tally() %>%
dplyr::filter(n >= 10)
data %>%
dplyr::filter(name %in% country$name) %>%
ggplot(aes(x = date, y = dollar_price, col = continent)) +
geom_line() +
# stat_smooth(formula = y~x, method = 'lm', se = F, lwd = 0.75) +
facet_wrap(~name) +
scale_color_brewer(palette = 'Set1') +
scale_x_date(date_breaks = '10 year', date_labels = '%Y') +
theme(panel.grid.minor = element_blank(),
panel.grid.major = element_blank(),
legend.position = 'bottom',
legend.direction = 'horizontal') +
theme_bw()
data %>%
dplyr::filter(name %in% country$name) %>%
ggplot(aes(x = date, y = dollar_price, col = continent)) +
geom_line() +
# stat_smooth(formula = y~x, method = 'lm', se = F, lwd = 0.75) +
facet_wrap(~name) +
scale_color_brewer(palette = 'Set1') +
scale_x_date(date_breaks = '10 year', date_labels = '%Y') +
theme_bw() +
theme(panel.grid.minor = element_blank(),
panel.grid.major = element_blank(),
legend.position = 'bottom',
legend.direction = 'horizontal')
data %>%
dplyr::filter(name %in% country$name) %>%
ggplot(aes(x = date, y = dollar_price, col = continent)) +
geom_line() +
# stat_smooth(formula = y~x, method = 'lm', se = F, lwd = 0.75) +
facet_wrap(~name) +
scale_color_brewer(palette = 'Set1') +
scale_x_date(date_breaks = '5 year', date_labels = '%Y') +
theme_bw() +
theme(panel.grid.minor = element_blank(),
legend.position = 'bottom',
legend.direction = 'horizontal')
data %>%
dplyr::filter(name %in% country$name) %>%
dplyr::mutate(forcats::fct_reorder(name, continent))
data %>%
dplyr::filter(name %in% country$name) %>%
dplyr::mutate(name = forcats::fct_reorder(name, continent)) %>%
ggplot(aes(x = date, y = dollar_price, col = continent)) +
geom_line() +
# stat_smooth(formula = y~x, method = 'lm', se = F, lwd = 0.75) +
facet_wrap(~name) +
scale_color_brewer(palette = 'Set1') +
scale_x_date(date_breaks = '5 year', date_labels = '%Y') +
theme_bw() +
theme(panel.grid.minor = element_blank(),
legend.position = 'bottom',
legend.direction = 'horizontal')
data %>%
dplyr::filter(name %in% country$name) %>%
dplyr::mutate(name = forcats::fct_reorder(name, continent, name)) %>%
ggplot(aes(x = date, y = dollar_price, col = continent)) +
geom_line() +
# stat_smooth(formula = y~x, method = 'lm', se = F, lwd = 0.75) +
facet_wrap(~name) +
scale_color_brewer(palette = 'Set1') +
scale_x_date(date_breaks = '5 year', date_labels = '%Y') +
theme_bw() +
theme(panel.grid.minor = element_blank(),
legend.position = 'bottom',
legend.direction = 'horizontal')
?forcats::fct_reorder
data %>%
dplyr::filter(name %in% country$name) %>%
dplyr::mutate(name = forcats::fct_reorder2(name, continent, name)) %>%
ggplot(aes(x = date, y = dollar_price, col = continent)) +
geom_line() +
# stat_smooth(formula = y~x, method = 'lm', se = F, lwd = 0.75) +
facet_wrap(~name) +
scale_color_brewer(palette = 'Set1') +
scale_x_date(date_breaks = '5 year', date_labels = '%Y') +
theme_bw() +
theme(panel.grid.minor = element_blank(),
legend.position = 'bottom',
legend.direction = 'horizontal')
data %>%
dplyr::filter(name %in% country$name) %>%
dplyr::mutate(name = forcats::fct_reorder2(name, continent)) %>%
ggplot(aes(x = date, y = dollar_price, col = continent)) +
geom_line() +
# stat_smooth(formula = y~x, method = 'lm', se = F, lwd = 0.75) +
facet_wrap(~name) +
scale_color_brewer(palette = 'Set1') +
scale_x_date(date_breaks = '5 year', date_labels = '%Y') +
theme_bw() +
theme(panel.grid.minor = element_blank(),
legend.position = 'bottom',
legend.direction = 'horizontal')
data %>%
dplyr::filter(name %in% country$name) %>%
dplyr::mutate(name = forcats::fct_reorder(name, continent)) %>%
ggplot(aes(x = date, y = dollar_price, col = continent)) +
geom_line() +
# stat_smooth(formula = y~x, method = 'lm', se = F, lwd = 0.75) +
facet_wrap(~name) +
scale_color_brewer(palette = 'Set1') +
scale_x_date(date_breaks = '5 year', date_labels = '%Y') +
theme_bw() +
theme(panel.grid.minor = element_blank(),
legend.position = 'bottom',
legend.direction = 'horizontal')
ggplot(data) +
geom_point(aes(x = gdp_dollar, y = dollar_price, col = continent)) +
scale_color_brewer(palette = 'Set1') +
theme(panel.grid.minor = element_blank(),
legend.position = 'bottom',
legend.direction = 'horizontal') +
labs(title = 'Year: {frame_time}') +
transition_time(date) +
ease_aes('linear')
gc()
ggplot(data) +
geom_point(aes(x = gdp_dollar, y = dollar_price, col = continent)) +
scale_color_brewer(palette = 'Set1') +
theme(panel.grid.minor = element_blank(),
legend.position = 'bottom',
legend.direction = 'horizontal')
gc()
knitr::kable(head(data))
knitr::kable(head(round(data, 1)))
knitr::kable(head(data))
?knitr::kable
knitr::kable(head(data),digits = 1)
data = readr::read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2020/2020-12-22/big-mac.csv') %>%
filter(name != 'Euro area') %>%
dplyr::select(date, name, dollar_price, gdp_dollar) %>%
dplyr::mutate(continent = countrycode(sourcevar = name,
origin = "country.name",
destination = "continent"))
data = readr::read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2020/2020-12-22/big-mac.csv') %>%
filter(name != 'Euro area') %>%
select(date, name, dollar_price, gdp_dollar) %>%
mutate(continent = countrycode(sourcevar = name,
origin = "country.name",
destination = "continent"))
citation("tidytuesdayR")
data = readr::read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2020/2020-12-22/big-mac.csv')
knitr::kable(head(data),digits = 1)
summary(data)
head(data)
?skim
??skim
install.packages('skimr')
skimr::skim(data)
skimr::skim(data) %>% knitr::kable()
summary(data) %>% knitr::kable()
summary(data)
head(data)
View(data)
dim(data)
range(data$gdp_dollar)
range(data$gdp_dollar, na.rm = T)
data = readr::read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2020/2020-12-22/big-mac.csv') %>%
dplyr::filter(name != 'Euro area') %>%
dplyr::select(date, name, dollar_price, gdp_dollar) %>%
dplyr::mutate(continent = countrycode(sourcevar = name,
origin = "country.name",
destination = "continent"))
head(data)
data = data %>% select(date, name, continent, dollar_price, gdp_dollar)
knitr::kable(head(data))
knitr::kable(head(data),digits = 1)
colSums(is.na(data))
data[data$name == 'China']
data[data$name == 'China',]
data[data$name == 'China',] %>% View()
ggplot(data %>% file(name == 'China')) + geom_line(aes(x =date, y = gdp_dollar))
ggplot(data %>% filter(name == 'China')) + geom_line(aes(x =date, y = gdp_dollar))
ggplot(data %>% filter(name == 'China')) + geom_line(aes(x =date, y = gdp_dollar))
ggplot(data ) + geom_line(aes(x =date, y = gdp_dollar))
library(countrycode)
library(dplyr)
library(ggplot2)
library(gganimate)
setwd('~/Documents/Github/tidytuesday-big-mac-index/')
theme_set(theme_minimal(base_family = 'Raleway', base_size = 10))
data = readr::read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2020/2020-12-22/big-mac.csv') %>%
dplyr::filter(name != 'Euro area') %>%
dplyr::select(date, name, dollar_price, gdp_dollar) %>%
dplyr::mutate(continent = countrycode(sourcevar = name,
origin = "country.name",
destination = "continent"))
survey_num = data %>%
mutate(year = lubridate::year(date)) %>%
group_by(year, name) %>%
tally() %>%
tidyr::spread(name, n, fill = 0) %>%
tidyr::gather(key = 'country', value = 'number', -year)
missing_country = survey_num %>%
dplyr::group_by(country) %>%
dplyr::summarise(missing = sum(number == 0)) %>%
dplyr::filter(missing >= 12)
ggplot(survey_num, aes(x = year, y = country, fill = factor(number))) +
geom_tile( col = 'white', size = 0.5, alpha = 0.85) +
scale_x_continuous(breaks = seq(2000, 2020, 4),
labels = seq(2000, 2020, 4)) +
# scale_y_discrete(breaks = missing_country$country,
#                  labels = missing_country$country,
#                  expand=c(0,0)) +
scale_fill_manual(values=c("#d53e4f","#fdae61","#abdda4")) +
theme(panel.grid.major.y = element_blank(),
panel.grid.minor.y = element_blank(),
panel.grid.minor.x = element_blank(),
axis.text.y=element_text(vjust=0.2),
axis.ticks=element_line(size=0.15)) +
guides(fill = guide_legend(title="Number of\nSurveys")) +
labs(x = '', y = '', title = 'The Number of Big Mac Index Surverys')
ggsave('plot.png', scale = 1)
ggsave('plot.png', scale = 1, width = 16, height = 9, unit = 'cm')
ggsave('plot.png', scale = 1, width = 16, height = 9, unit = 'cm', dpi = 500)
ggsave('plot.png', scale = 0.5, width = 16, height = 9, unit = 'cm', dpi = 500)
ggsave('plot.png', scale = 1.5, width = 16, height = 9, unit = 'cm', dpi = 500)
ggsave(filename = "foo300.png", ggplot(mtcars, aes(x=wt, y=mpg)) +
geom_point(size=2, shape=23) + theme_bw(base_size = 10),
width = 5, height = 4, dpi = 300, units = "in", device='png')
ggsave(filename = "foo150.png", ggplot(mtcars, aes(x=wt, y=mpg)) +
geom_point(size=2, shape=23) + theme_bw(base_size = 10),
width = 10, height = 8, dpi = 150, units = "in", device='png')
ggsave('plot.png', scale = 1.5, width = 16, height = 9, unit = 'in', dpi = 300)
ggsave('plot.png', width = 16, height = 9, unit = 'in', dpi = 300)
library(countrycode)
library(dplyr)
library(ggplot2)
library(gganimate)
setwd('~/Documents/Github/tidytuesday-big-mac-index/')
theme_set(theme_minimal(base_family = 'Raleway', base_size = 10))
data = readr::read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2020/2020-12-22/big-mac.csv') %>%
dplyr::filter(name != 'Euro area') %>%
dplyr::select(date, name, dollar_price, gdp_dollar) %>%
dplyr::mutate(continent = countrycode(sourcevar = name,
origin = "country.name",
destination = "continent"))
survey_num = data %>%
mutate(year = lubridate::year(date)) %>%
group_by(year, name) %>%
tally() %>%
tidyr::spread(name, n, fill = 0) %>%
tidyr::gather(key = 'country', value = 'number', -year)
missing_country = survey_num %>%
dplyr::group_by(country) %>%
dplyr::summarise(missing = sum(number == 0)) %>%
dplyr::filter(missing >= 12)
ggplot(survey_num, aes(x = year, y = country, fill = factor(number))) +
geom_tile( col = 'white', size = 0.5, alpha = 0.85) +
scale_x_continuous(breaks = seq(2000, 2020, 4),
labels = seq(2000, 2020, 4)) +
# scale_y_discrete(breaks = missing_country$country,
#                  labels = missing_country$country,
#                  expand=c(0,0)) +
scale_fill_manual(values=c("#d53e4f","#fdae61","#abdda4")) +
theme(panel.grid.major.y = element_blank(),
panel.grid.minor.y = element_blank(),
panel.grid.minor.x = element_blank(),
axis.text.y=element_text(vjust=0.2),
axis.ticks=element_line(size=0.15)) +
guides(fill = guide_legend(title="Number of\nSurveys")) +
labs(x = '', y = '', title = 'The Number of Big Mac Index Surverys')
ggsave('plot.png', width = 16, height = 9, unit = 'in', dpi = 300)
ggsave('plot.png', width = 16, height = 9, unit = 'in', dpi = 220)
ggsave('plot.png', dpi = 500)
ggsave('plot.png', width = 16, height = 9, unit = 'in', dpi = 500)
data %>%
dplyr::filter(name %in% country$name) %>%
dplyr::mutate(name = forcats::fct_reorder(name, continent)) %>%
ggplot(aes(x = date, y = dollar_price, col = continent)) +
geom_line() +
# stat_smooth(formula = y~x, method = 'lm', se = F, lwd = 0.75) +
facet_wrap(~name) +
scale_color_brewer(palette = 'Set1') +
scale_x_date(date_breaks = '5 year', date_labels = '%Y') +
theme_bw() +
theme(panel.grid.minor = element_blank(),
legend.position = 'bottom',
legend.direction = 'horizontal')
country = data %>%
dplyr::group_by(name) %>%
tally() %>%
dplyr::filter(n >= 10)
data %>%
dplyr::filter(name %in% country$name) %>%
dplyr::mutate(name = forcats::fct_reorder(name, continent)) %>%
ggplot(aes(x = date, y = dollar_price, col = continent)) +
geom_line() +
# stat_smooth(formula = y~x, method = 'lm', se = F, lwd = 0.75) +
facet_wrap(~name) +
scale_color_brewer(palette = 'Set1') +
scale_x_date(date_breaks = '5 year', date_labels = '%Y') +
theme_bw() +
theme(panel.grid.minor = element_blank(),
legend.position = 'bottom',
legend.direction = 'horizontal')
ggplot(data) +
geom_point(aes(x = gdp_dollar, y = dollar_price, col = continent)) +
scale_color_brewer(palette = 'Set1') +
theme(panel.grid.minor = element_blank(),
legend.position = 'bottom',
legend.direction = 'horizontal')
data %>%
dplyr::filter(name %in% country$name) %>%
# dplyr::mutate(name = forcats::fct_reorder(name, continent)) %>%
ggplot(aes(x = date, y = dollar_price, col = continent)) +
geom_line() +
# stat_smooth(formula = y~x, method = 'lm', se = F, lwd = 0.75) +
facet_wrap(~name) +
scale_color_brewer(palette = 'Set1') +
scale_x_date(date_breaks = '5 year', date_labels = '%Y') +
theme_bw() +
theme(panel.grid.minor = element_blank(),
legend.position = 'bottom',
legend.direction = 'horizontal')
gc()
data %>%
dplyr::filter(name %in% country$name) %>%
# dplyr::mutate(name = forcats::fct_reorder(name, continent)) %>%
ggplot(aes(x = date, y = dollar_price, col = continent)) +
geom_line(lwd = 1.2) +
# stat_smooth(formula = y~x, method = 'lm', se = F, lwd = 0.75) +
facet_wrap(~name) +
scale_color_brewer(palette = 'Set1') +
scale_x_date(date_breaks = '5 year', date_labels = '%Y') +
theme_bw() +
theme(panel.grid.minor = element_blank(),
legend.position = 'bottom',
legend.direction = 'horizontal')
ggsave('plot.png', width = 16, height = 9, unit = 'in', dpi = 500)
ggsave('plot.png', width = 32, height = 18, unit = 'in', dpi = 500)
ggsave('plot.png', width = 32, height = 18, unit = 'in', dpi = 1000)
gc()
data %>%
filter(continent == 'Europe') %>%
ggplot() +
geom_point(aes(x = gdp_dollar, y = dollar_price, col = continent)) +
scale_color_brewer(palette = 'Set1') +
theme(panel.grid.minor = element_blank(),
legend.position = 'bottom',
legend.direction = 'horizontal')
data %>%
dplyr::filter(name %in% country$name & continent == 'Europe') %>%
# dplyr::mutate(name = forcats::fct_reorder(name, continent)) %>%
ggplot(aes(x = date, y = dollar_price, col = continent)) +
geom_line(lwd = 1.2) +
# stat_smooth(formula = y~x, method = 'lm', se = F, lwd = 0.75) +
facet_wrap(~name) +
scale_color_brewer(palette = 'Set1') +
scale_x_date(date_breaks = '5 year', date_labels = '%Y') +
theme_bw() +
theme(panel.grid.minor = element_blank(),
legend.position = 'bottom',
legend.direction = 'horizontal')
country$name
data %>%
dplyr::group_by(name) %>%
tally()
data %>%
dplyr::filter(name %in% country$name & continent == 'Europe') %>%
# dplyr::mutate(name = forcats::fct_reorder(name, continent)) %>%
ggplot(aes(x = date, y = dollar_price, col = continent)) +
geom_line(lwd = 1.2) +
# stat_smooth(formula = y~x, method = 'lm', se = F, lwd = 0.75) +
facet_wrap(~name) +
scale_color_brewer(palette = 'Set1') +
scale_x_date(date_breaks = '4 year', date_labels = '%Y') +
theme_bw() +
theme(panel.grid.minor = element_blank(),
legend.position = 'bottom',
legend.direction = 'horizontal')
data %>%
dplyr::filter(name %in% country$name & continent == 'Asia') %>%
# dplyr::mutate(name = forcats::fct_reorder(name, continent)) %>%
ggplot(aes(x = date, y = dollar_price, col = continent)) +
geom_line(lwd = 1.2) +
# stat_smooth(formula = y~x, method = 'lm', se = F, lwd = 0.75) +
facet_wrap(~name) +
scale_color_brewer(palette = 'Set1') +
scale_x_date(date_breaks = '5 year', date_labels = '%Y') +
theme_bw() +
theme(panel.grid.minor = element_blank(),
legend.position = 'bottom',
legend.direction = 'horizontal')
